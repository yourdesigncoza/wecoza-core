# Milestone v4.1: Lookup Table Admin

**Status:** ✅ SHIPPED 2026-02-17
**Phases:** 42-43
**Total Plans:** 3

## Overview

Generic config-driven lookup table admin infrastructure with Phoenix inline-edit UI. Two shortcodes shipped: qualifications and placement levels management. Infrastructure is table-agnostic — adding new lookup tables requires only a config entry.

## Phases

### Phase 42: Lookup Table CRUD Infrastructure + Qualifications Shortcode

**Goal:** Build generic LookupTables module (Controller, Repository, Ajax handler, view, JS). Register [wecoza_manage_qualifications] shortcode. Inline-editable Phoenix-styled table for CRUD on learner_qualifications table.
**Depends on:** Phase 41
**Plans:** 2 plans

- [x] 42-01: Backend — LookupTableRepository + LookupTableAjaxHandler + LookupTableController + wecoza-core.php registration
- [x] 42-02: Frontend — manage.view.php template + lookup-table-manager.js + human verification

### Phase 43: Placement Levels Shortcode

**Goal:** Register [wecoza_manage_placement_levels] shortcode using Phase 42 infrastructure. Same UI pattern, configured for 3-column table (level code + description).
**Depends on:** Phase 42
**Plans:** 1 plan

- [x] 43-01: Fix auto-increment sequence on placement_level_id + human verification of shortcode CRUD

---

## Milestone Summary

**Key Decisions:**

- LookupTableRepository does not extend BaseRepository — BaseRepository uses static $table, runtime config injection requires standalone class
- TABLES constant lives in LookupTableController; AjaxHandler calls getTableConfig() — single source of truth
- SHORTCODE_MAP constant in controller for clean tag-to-tableKey dispatch
- btn-subtle-* over btn-phoenix-* for in-table action buttons; wrapped in btn-group — matches app-wide pattern
- PHP-to-JS config via embedded JSON script tag avoids per-shortcode wp_localize_script registration

**Issues Resolved:**

- Missing auto-increment sequence on learner_placement_level.placement_level_id (DDL applied manually)

**Issues Deferred:**

- None

**Technical Debt Incurred:**

- None — clean implementation with reusable infrastructure

---

_For current project status, see .planning/ROADMAP.md_
