---
phase: 16-presentation-layer
plan: 02
type: execute
wave: 2
depends_on: ["16-01"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User can see all classes in dashboard including those with no events"
    - "User can complete open tasks via Complete button"
    - "User can reopen completed tasks via Reopen button"
    - "Badge updates correctly after task status change"
    - "Search and filter functionality works"
  artifacts: []
  key_links:
    - from: "Complete button click"
      to: "Task moves to Completed column"
      via: "AJAX POST to TaskController"
    - from: "Reopen button click"
      to: "Task moves to Open column"
      via: "AJAX POST to TaskController"
---

<objective>
Verify the presentation layer works correctly with event-based task system through manual UI testing.

Purpose: Confirm UI-01, UI-02, UI-03 requirements are satisfied after code changes in Plan 16-01.

Output: Verified working UI, ready for Phase 17 code cleanup.
</objective>

<execution_context>
@/home/laudes/.claude/get-shit-done/workflows/execute-plan.md
@/home/laudes/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/16-presentation-layer/16-01-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
  Event-based task dashboard with fixed AJAX parameters and cleaned view templates:
  - JavaScript now sends class_id to TaskController
  - View templates no longer reference obsolete log_id
  - ClassTaskPresenter formats event-based tasks (already working from Phase 14)
  </what-built>
  <how-to-verify>
  1. Navigate to the Event Tasks dashboard in WP admin
  2. Verify all classes appear (including those with no events - they should show Agent Order Number task)
  3. Expand a class row to see Open Tasks and Completed Tasks columns
  4. Test task completion:
     a. For a regular event task: enter optional note, click Complete
     b. Verify task moves to Completed column with user/timestamp
     c. Verify badge updates from "Open +N" to "Open +(N-1)"
  5. Test Agent Order Number completion:
     a. Try to complete without entering order number - should show validation error
     b. Enter order number, click Complete
     c. Verify task moves to Completed column
  6. Test task reopen:
     a. Click Reopen on a completed task
     b. Verify task moves back to Open column
     c. For Agent Order: verify notes preserved on reopen
  7. Test search/filter:
     a. Use search box to filter classes
     b. Use task type filter if available
     c. Verify results update correctly
  8. Check browser console for JavaScript errors (should be none)

  Expected behavior:
  - All AJAX operations succeed (no 400/500 errors)
  - Tasks move between columns instantly
  - Badge reflects current open task count
  - Search finds classes by code, name, agent, etc.
  </how-to-verify>
  <resume-signal>Type "approved" if all tests pass, or describe specific issues encountered</resume-signal>
</task>

</tasks>

<verification>
User manually verifies:
- [ ] All classes visible in dashboard
- [ ] Complete button works for regular tasks
- [ ] Complete button requires order number for Agent Order task
- [ ] Reopen button works
- [ ] Badge updates correctly
- [ ] Search/filter works
- [ ] No JavaScript errors
</verification>

<success_criteria>
- All UI-01, UI-02, UI-03 requirements satisfied
- No console errors during task operations
- User confirms "approved"
</success_criteria>

<output>
After completion, create `.planning/phases/16-presentation-layer/16-02-SUMMARY.md`
</output>
